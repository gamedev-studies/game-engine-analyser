|model foldersTags tagsColors files modelFolders projName|
projName := 'godot'.
model := MooseModel root at: x.
foldersTags := Dictionary newFrom: {
'core ' -> 'COR' .'drivers/alsa' -> 'AUD' .'drivers/alsamidi' -> 'AUD' .'drivers/coreaudio' -> 'AUD' .'drivers/coremidi' -> 'AUD' .'drivers/dummy' -> 'RES' .'drivers/gles_common' -> 'LLR' .'drivers/gles2' -> 'LLR' .'drivers/gles3' -> 'LLR' .'drivers/png' -> 'RES' .'drivers/pulseaudio' -> 'AUD' .'drivers/unix' -> 'PLA' .'drivers/wasapi' -> 'PLA' .'drivers/windows' -> 'PLA' .'drivers/winmidi' -> 'PLA' .'drivers/xaudio2' -> 'PLA' .'editor' -> 'EDI' .'main' -> 'COR' .'modules/bmp' -> 'RES' .'modules/bullet' -> 'PHY' .'modules/camera' -> 'HID' .'modules/csg' -> 'LLR' .'modules/cvtt' -> 'RES' .'modules/dds' -> 'RES' .'modules/denoise' -> 'VFX' .'modules/enet' -> 'OMP' .'modules/etc' -> 'RES' .'modules/fbx' -> 'RES' .'modules/freetype' -> 'FES' .'modules/gdnative' -> 'COR' .'modules/gdscript' -> 'GMP' .'modules/gltf' -> 'RES' .'modules/gridmap' -> 'EDI' .'modules/hdr' -> 'RES' .'modules/jpg' -> 'RES' .'modules/jsonrpc' -> 'COR' .'modules/lightmapper_cpu' -> 'VFX' .'modules/mbedtls' -> 'COR' .'modules/minimp3' -> 'RES' .'modules/mono' -> 'COR' .'modules/ogg' -> 'RES' .'modules/opensimplex' -> 'LLR' .'modules/opus' -> 'RES' .'modules/pvr' -> 'RES' .'modules/raycast' -> 'PHY' .'modules/regex' -> 'COR' .'modules/squish' -> 'RES' .'modules/stb_vorbis' -> 'AUD' .'modules/svg' -> 'RES' .'modules/tga' -> 'RES' .'modules/theora' -> 'RES' .'modules/tinyexr' -> 'RES' .'modules/upnp' -> 'COR' .'modules/vhacd' -> 'LLR' .'modules/visual_script' -> 'EDI' .'modules/vorbis' -> 'RES' .'modules/webm' -> 'RES' .'modules/webp' -> 'RES' .'modules/webrtc' -> 'OMP' .'modules/websocket' -> 'OMP' .'modules/xatlas_unwrap' -> 'RES' .'platform' -> 'PLA' .'scene/2d' -> 'VFX' .'scene/3d' -> 'SGC' .'scene/animation' -> 'SKA' .'scene/audio' -> 'AUD' .'scene/debugger' -> 'DEB' .'scene/gui' -> 'FES' .'scene/main' -> 'COR' .'scene/resources' -> 'RES' .'servers/audio' -> 'AUD' .'servers/physics' -> 'PHY' .'servers/physics_2d' -> 'PHY' .'servers/visual' -> 'LLR' .'thirdparty' -> 'SDK' .}.
tagsColors := Dictionary newFrom: { 'AUD' -> '#f0e442'. 'OMP' -> '#ff0000'. 'HID' -> '#ea9999'. 'DEB' -> '#cccccc'. 'SGC' -> '#009e73'. 'LLR' -> '#00b816'. 'VFX' -> '#b8f100'. 'FES' -> '#6de900'. 'PLA' -> '#8288f1'. 'GMP' -> '#af93f8'. 'SDK' -> '#f8beff'. 'SKA' -> '#fce5cd'. 'PHY' -> '#fbbc04'. 'RES' -> '#efefef'. 'COR' -> '#4fc8e5'. 'EDI' -> '#56b4e9' }.
modelFolders := model allWithType: FamixCPreprocFolder.
tagsColors keys do: [ :key | (model tagNamed: projName , '-' , key) color: (Color fromHexString: (tagsColors at: key))].
foldersTags keys do: [ :key | (modelFolders select: [:file | file name = key]) do: [ :file | file tagWith: (model tagNamed: projName , '-' ,(foldersTags at: key))] ].